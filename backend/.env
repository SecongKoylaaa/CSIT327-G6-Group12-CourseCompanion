########################################
# Django Settings
########################################

# SECRET KEY — keep this private and unique per environment
DJANGO_SECRET_KEY=eg4q)2ufpv()7i%^6idr8l#23w64(_0j2hd)$v83lu%o7-up5

# DEBUG — set to False in production
DJANGO_DEBUG=True

# Allowed Hosts — include Render URL and localhost for local dev
DJANGO_ALLOWED_HOSTS=csit327-g6-group12-coursecompanion.onrender.com,localhost,127.0.0.1

# CSRF Trusted Origins — include production https domain and local http
DJANGO_CSRF_TRUSTED_ORIGINS=https://csit327-g6-group12-coursecompanion.onrender.com,http://localhost:8000

# Force HTTPS redirection in production; disable for local development
DJANGO_SECURE_SSL_REDIRECT=False

########################################
# Database (Supabase Postgres)
########################################

# Full connection string with SSL enabled
DATABASE_URL=postgresql://postgres.tkyztssepvewbmgsaaeq:yyRym9ST6zityusL@aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres?sslmode=require

########################################
# Supabase Configuration
########################################

# Project API URL and keys
SUPABASE_URL=https://tkyztssepvewbmgsaaeq.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRreXp0c3NlcHZld2JtZ3NhYWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzODQ4NjMsImV4cCI6MjA3NDk2MDg2M30.uwxitzioVAWuNENFGnVwuXcQyvbXi6AdfjwYg-suoA8
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRreXp0c3NlcHZld2JtZ3NhYWVxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM4NDg2MywiZXhwIjoyMDc0OTYwODYzfQ.V6s3JcbrEHuYHKAHYZVH8iysfq4a5bwM9XihGl6rhIw

# Storage buckets
SUPABASE_BUCKET=post_media
SUPABASE_BUCKET_PROFILE=profile_picture

########################################
# Runtime Tuning (Session Pooler)
########################################

# Keep a single worker/thread to stay under Session pooler limits
WEB_CONCURRENCY=1
GUNICORN_CMD_ARGS=--workers 1 --threads 1 --keep-alive 30 --max-requests 1000 --max-requests-jitter 100

# Keep persistent DB connection per worker (seconds)
DJANGO_DB_CONN_MAX_AGE=600